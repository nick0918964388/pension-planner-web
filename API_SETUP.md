# 市場數據說明

## 功能說明

本退休金規劃器已內建 **97 年的真實歷史市場數據** (1928-2024)，無需任何 API Key 或網路連接！

## 數據來源

### 真實歷史數據（內建）

使用來自權威機構的真實歷史數據：
- **S&P 500 年度回報率** (1928-2024)
- **10年期美國公債回報率** (1928-2024)
- **通膨率 (CPI)** (1928-2024)

**數據來源：**
- NYU Stern School of Business (Aswath Damodaran) 歷史數據
- Federal Reserve Economic Data (FRED)

**數據統計：**
- **S&P 500**：平均回報 11.81%，標準差 19.40%
- **10年期公債**：平均回報 4.51%，標準差 7.45%
- **通膨率**：平均 3.15%，標準差 3.88%

**優點：**
- ✅ 無需 API Key，開箱即用
- ✅ 無網路依賴，離線也能使用
- ✅ 基於真實歷史，反映實際市場波動
- ✅ 97 年完整數據，涵蓋多個經濟週期（大蕭條、戰爭、金融危機等）
- ✅ 更準確的退休規劃預測

### 簡化模擬數據
使用統計模型生成的隨機數據（用於比較）。

## 使用說明

1. 啟動應用程式：
   ```bash
   npm run dev
   ```

2. 在介面中選擇「數據來源」：
   - **真實歷史數據 (1928-2024)**：使用內建的真實市場數據
   - **簡化模擬數據**：使用統計模型生成的數據

3. 選擇「投資組合」配置：
   - **平衡型**：50% S&P 500 + 50% 10年期公債
   - **積極型**：80% S&P 500 + 20% 10年期公債
   - **保守型**：20% S&P 500 + 80% 10年期公債

4. 調整其他參數並開始計算

## 數據文件位置

歷史數據存放在：`src/data/historicalReturns.json`

您可以使用測試腳本驗證數據：
```bash
node test-market-data.js
```

測試輸出包含：
- 數據基本資訊
- 各類資產統計數據
- 最近10年數據樣本
- 投資組合回報示例

## 技術細節

### 數據結構
```json
{
  "year": 2024,
  "stockReturn": 0.2512,
  "bondReturn": 0.0128,
  "inflation": 0.0286
}
```

### 蒙地卡羅模擬方法

使用**歷史回報率取樣法 (Historical Sampling)**：
1. 從 1928-2024 年的歷史數據中隨機選擇年份
2. 使用該年份的實際回報率計算投資組合表現
3. 重複模擬 1000 次
4. 計算成功率和資產分佈

這種方法的優點：
- 保留真實的回報率分佈特性
- 反映實際的市場波動模式
- 考慮極端事件（如 1931 年 -43.84% 或 1954 年 +52.56%）

## 歷史重大事件

數據涵蓋的重要經濟事件：
- **1929-1933**：大蕭條
- **1941-1945**：第二次世界大戰
- **1970s**：石油危機、高通膨
- **1980s**：雷根經濟政策、利率高峰
- **2000**：網路泡沫
- **2008**：金融危機
- **2020**：COVID-19 疫情
- **2022**：高通膨與利率上升

## 更新數據

如需更新歷史數據：
1. 編輯 `src/data/historicalReturns.json`
2. 確保數據格式一致
3. 執行測試：`node test-market-data.js`
4. 重新構建：`npm run build`

## 參考資料

- [NYU Stern 歷史回報數據](https://pages.stern.nyu.edu/~adamodar/New_Home_Page/datafile/histretSP.html)
- [FRED 經濟數據](https://fred.stlouisfed.org/)
- [蒙地卡羅模擬方法](https://en.wikipedia.org/wiki/Monte_Carlo_method)

## 支援

如有問題或建議：
- 查看專案 GitHub Issues
- 執行測試腳本驗證數據
- 檢查瀏覽器控制台錯誤訊息
